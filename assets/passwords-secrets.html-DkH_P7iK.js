import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as i,a,o as n}from"./app-CJIENTLq.js";const t={};function l(r,e){return n(),i("div",null,e[0]||(e[0]=[a(`<p>Environment variables ending in <code>_PASSWORD</code> or <code>_SECRET</code> can be configured using plain-text files. To achieve this, environment variable should be defined with <code>_FILE</code> appended to the name with the value defined as the location of the file. For all variables ending in <code>_PASSWORD_FILE</code> or <code>_SECRET_FILE</code> the DSF FHIR and DSF BPE applications will read the content of the fist line of the referenced file and dynamically define the corresponding <code>_PASSWORD</code> or <code>_SECRET</code> environment variables with the read values.</p><h3 id="example-environment-variables" tabindex="-1"><a class="header-anchor" href="#example-environment-variables"><span>Example Environment Variables</span></a></h3><ul><li><strong>DEV_DSF_BPE_DB_USER_PASSWORD_FILE</strong>: If set to <code>/run/secrets/db_user_password</code>, the application will read the contents of the <code>/run/secrets/db_user_password</code> file and set the <code>DEV_DSF_BPE_DB_USER_PASSWORD</code> environment variable with the content from that file.</li><li><strong>DEV_DSF_SERVER_AUTH_OIDC_CLIENT_SECRET_FILE</strong>: If set to <code>/run/secrets/oidc_client_secret</code>, the application will read the contents of the referenced file and set the <code>DEV_DSF_SERVER_AUTH_OIDC_CLIENT_SECRET</code> environment variable accordingly.</li></ul><h3 id="docker-secrets" tabindex="-1"><a class="header-anchor" href="#docker-secrets"><span>Docker Secrets</span></a></h3><p>It is recommended to use <a href="https://docs.docker.com/compose/how-tos/use-secrets" target="_blank" rel="noopener noreferrer">docker secrets</a> as files for these environment variables. Docker secrets are mounted as files in <code>/run/secrets/&lt;secret_name&gt;</code> inside the container.</p><h4 id="example-docker-compose" tabindex="-1"><a class="header-anchor" href="#example-docker-compose"><span>Example docker-compose</span></a></h4><div class="language-yaml line-numbers-mode" data-highlighter="shiki" data-ext="yaml" data-title="yaml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">services</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  app</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    image</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ghcr.io/datasharingframework/fhir</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    secrets</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">db_user_password</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">      - </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">oidc_client_secret</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    environment</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      DEV_DSF_BPE_DB_USER_PASSWORD_FILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/run/secrets/db_user_password</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">      DEV_DSF_SERVER_AUTH_OIDC_CLIENT_SECRET_FILE</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">/run/secrets/oidc_client_secret</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">secrets</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  db_user_password</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./secrets/db_user.password</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">  api_key</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">:</span></span>
<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">    file</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">: </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">./secrets/oidc_client.secret</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,7)]))}const h=s(t,[["render",l],["__file","passwords-secrets.html.vue"]]),o=JSON.parse('{"path":"/v1.7.1/maintain/passwords-secrets.html","title":"Passwords and Secrets","lang":"en-US","frontmatter":{"title":"Passwords and Secrets","icon":"safe","gitInclude":[]},"headers":[{"level":3,"title":"Example Environment Variables","slug":"example-environment-variables","link":"#example-environment-variables","children":[]},{"level":3,"title":"Docker Secrets","slug":"docker-secrets","link":"#docker-secrets","children":[]}],"readingTime":{"minutes":0.64,"words":191},"filePathRelative":"v1.7.1/maintain/passwords-secrets.md","excerpt":"<p>Environment variables ending in <code>_PASSWORD</code> or <code>_SECRET</code> can be configured using plain-text files. To achieve this, environment variable should be defined with <code>_FILE</code> appended to the name with the value defined as the location of the file. For all variables ending in <code>_PASSWORD_FILE</code> or <code>_SECRET_FILE</code> the DSF FHIR and DSF BPE applications will read the content of the fist line of the referenced file and dynamically define the corresponding <code>_PASSWORD</code> or <code>_SECRET</code> environment variables with the read values.</p>"}');export{h as comp,o as data};
